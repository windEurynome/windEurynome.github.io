---
layout: post
title: "buuoj-鸡藕椒盐味浅析"
categories: crypto particular python
tags: buuoj particular
excerpt: buuoj刷题wp，本文章关于奇偶校验位，汉明码原理。
data: 2020-07-27
mathjax: true
---

# 鸡藕椒盐味

## 题目
公司食堂最新出了一种小吃，叫鸡藕椒盐味汉堡，售价八块钱，为了促销，上面有一个验证码，输入后可以再换取一个汉堡。但是问题是每个验证码几乎都有错误,而且打印的时候倒了一下。小明买到了一个汉堡，准备还原验证码，因为一个吃不饱啊验证码如下：1100 1010 0000 ,而且打印的时候倒了一下。把答案哈希一下就可以提交了。(答案为正确值(不包括数字之间的空格)的32位md5值的小写形式) 注意：得到的 flag 请包上 flag{} 提交

## 分析
刚看到题目，看到题目有想到奇偶校验位，但即使想到了，也没头绪。
最后上网查找思路。
https://www.dazhuanlan.com/2019/12/17/5df7e64bc03b2/

## 解题
1. 校验位

   | 编号   | 1    | 2    | 3    | 4    | ……   |
   | ------ | ---- | ---- | ---- | ---- | ---- |
   | 二进制 | 0001 | 0010 | 0011 | 0100 | ……   |

2. 排列

   | 汉明码 | 0    | 0    | 0    | 0    | 0    | 1    | 0    | 1    | 0    | 0    | 1    | 1    |
   | ------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
   | 校验位 | 0    | 0    | -    | 0    | -    | -    | -    | 1    | -    | -    | -    | -    |
   | 信息位 | -    | -    | 0    | -    | 0    | 1    | 0    | -    | 0    | 0    | 1    | 1    |
发送端校验位：1000
得到：11000100

3. 纠错

   | C      | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    |
   | ------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
   | 信息位 | 0    | 0    | 1    | 0    | 0    | 0    | 1    | 1    |

   接收端检验位：
   P4=C5+C6+C7+C8=0+0+1+1=0
   P3=C2+C3+C4+C8=0+1+0+1=0
   P2=C1+C3+C4+C6+C7=0+1+0+0+1=0
   P1=C1+C2+C4+C5+C7=0+0+0+0+1=1

   | 发送端校验位 | 1    | 0    | 0    | 0    |
   | ------------ | ---- | ---- | ---- | ---- |
   | 接收端校验位 | 0    | 0    | 0    | 1    |
   | 监督位       | 1    | 0    | 0    | 1    |

当监督位为：0000。说明接收方生成的校验位和收到的校验位相同，否则说明出错。
将`1001`转换为10进制`9`,说明验证码第9位出错，
正确的是：`110110100000`,md5哈希一下即答案

## 得到flag
```
flag{d14084c7ceca6359eaac6df3c234dd3b}
```

#### 一点思考
1. 完全不知道汉明码是什么
2. 刚开始看wp，没明白过程，后面一点点导才知道如何校验

#### 背景知识
1. 奇偶校验位：https://www.cnblogs.com/dushikang/p/8334776.html
2. 汉明码原理：https://blog.csdn.net/blue_starry_sky/article/details/53997548

