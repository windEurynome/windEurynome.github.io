I"„3<ul id="markdown-toc">
  <li><a href="#å‰è¨€" id="markdown-toc-å‰è¨€">å‰è¨€</a></li>
  <li><a href="#crontab" id="markdown-toc-crontab">crontab</a></li>
  <li><a href="#1crontabå‘½ä»¤" id="markdown-toc-1crontabå‘½ä»¤">1ï¼Œcrontabå‘½ä»¤</a></li>
  <li><a href="#2crontab-æ ¼å¼" id="markdown-toc-2crontab-æ ¼å¼">2ï¼Œcrontab æ ¼å¼</a></li>
  <li><a href="#use-the-hash-sign-to-prefix-a-comment" id="markdown-toc-use-the-hash-sign-to-prefix-a-comment">Use the hash sign to prefix a comment</a></li>
  <li><a href="#--minute-0--59" id="markdown-toc---minute-0--59">+â€”â€”â€”â€”â€”- minute (0 â€“ 59)</a></li>
  <li><a href="#---hour-0--23" id="markdown-toc----hour-0--23">| +â€”â€”â€”â€”- hour (0 â€“ 23)</a></li>
  <li><a href="#----day-of-month-1--31" id="markdown-toc-----day-of-month-1--31">| | +â€”â€”â€”- day of month (1 â€“ 31)</a></li>
  <li><a href="#-----month-1--12" id="markdown-toc------month-1--12">| | | +â€”â€”- month (1 â€“ 12)</a></li>
  <li><a href="#------day-of-week-0--7-sunday0-or-7" id="markdown-toc-------day-of-week-0--7-sunday0-or-7">| | | | +â€”- day of week (0 â€“ 7) (Sunday=0 or 7)</a></li>
  <li><a href="#----" id="markdown-toc-----">| | | | |</a></li>
  <li><a href="#-----command-to-be-executed" id="markdown-toc------command-to-be-executed">* * * * * command to be executed</a>    <ul>
      <li><a href="#4-åˆ›å»ºcronè„šæœ¬" id="markdown-toc-4-åˆ›å»ºcronè„šæœ¬">4 åˆ›å»ºcronè„šæœ¬</a></li>
      <li><a href="#å°†è„šæœ¬æ”¹ä¸ºå¯æ‰§è¡Œé’ˆå¯¹shellshæ–‡ä»¶" id="markdown-toc-å°†è„šæœ¬æ”¹ä¸ºå¯æ‰§è¡Œé’ˆå¯¹shellshæ–‡ä»¶">å°†è„šæœ¬æ”¹ä¸ºå¯æ‰§è¡Œï¼ˆé’ˆå¯¹shellï¼Œ.shæ–‡ä»¶ï¼‰</a></li>
    </ul>
  </li>
</ul>

<h2 id="å‰è¨€">å‰è¨€</h2>

<p>å·¥ä½œä¸­éœ€è¦å¼€å¯ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼šæ¯å¤©æ™šä¸Š2ç‚¹è¿›è¡Œçˆ¬è™«ä»£ç çš„è¿è¡Œï¼Œè¿™ä¸å¾—ä¸å»å­¦ä¹ ä¸€ä¸‹linux ä¸‹çš„å®šæ—¶ä»»åŠ¡crontab</p>

<h2 id="crontab">crontab</h2>

<p>yum install crontabs</p>

<p>è¯´æ˜ï¼š
/sbin/service crond start //å¯åŠ¨æœåŠ¡
/sbin/service crond stop //å…³é—­æœåŠ¡
/sbin/service crond restart //é‡å¯æœåŠ¡
/sbin/service crond reload //é‡æ–°è½½å…¥é…ç½®
æŸ¥çœ‹crontabæœåŠ¡çŠ¶æ€ï¼šservice crond status
æ‰‹åŠ¨å¯åŠ¨crontabæœåŠ¡ï¼šservice crond start
æŸ¥çœ‹crontabæœåŠ¡æ˜¯å¦å·²è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼Œæ‰§è¡Œå‘½ä»¤ï¼šntsysv
åŠ å…¥å¼€æœºè‡ªåŠ¨å¯åŠ¨:
chkconfig crond on</p>

<h2 id="1crontabå‘½ä»¤">1ï¼Œcrontabå‘½ä»¤</h2>

<p>åŠŸèƒ½è¯´æ˜ï¼šè®¾ç½®è®¡æ—¶å™¨ã€‚
è¯­ã€€ã€€æ³•ï¼šcrontab [-u <ç”¨æˆ·åç§°>][é…ç½®æ–‡ä»¶] æˆ– crontab [-u <ç”¨æˆ·åç§°>][-elr]</ç”¨æˆ·åç§°></ç”¨æˆ·åç§°></p>

<p>è¡¥å……è¯´æ˜ï¼šcronæ˜¯ä¸€ä¸ªå¸¸é©»æœåŠ¡ï¼Œå®ƒæä¾›è®¡æ—¶å™¨çš„åŠŸèƒ½ï¼Œè®©ç”¨æˆ·åœ¨ç‰¹å®šçš„æ—¶é—´å¾—ä»¥æ‰§è¡Œé¢„è®¾çš„æŒ‡ä»¤æˆ–ç¨‹åºã€‚åªè¦ç”¨æˆ·ä¼šç¼–è¾‘è®¡æ—¶å™¨çš„é…ç½®æ–‡ä»¶ï¼Œå°±å¯ä»¥ä½¿ ç”¨è®¡æ—¶å™¨çš„åŠŸèƒ½ã€‚</p>

<p>å…¶é…ç½®æ–‡ä»¶æ ¼å¼å¦‚ä¸‹ï¼š
Minute Hour Day Month DayOFWeek Command</p>

<p>å‚ã€€ã€€æ•°ï¼š
-e ã€€ç¼–è¾‘è¯¥ç”¨æˆ·çš„è®¡æ—¶å™¨è®¾ç½®ã€‚
-l ã€€åˆ—å‡ºè¯¥ç”¨æˆ·çš„è®¡æ—¶å™¨è®¾ç½®ã€‚
-r ã€€åˆ é™¤è¯¥ç”¨æˆ·çš„è®¡æ—¶å™¨è®¾ç½®ã€‚
-u<ç”¨æˆ·åç§°> ã€€æŒ‡å®šè¦è®¾å®šè®¡æ—¶å™¨çš„ç”¨æˆ·åç§°ã€‚</ç”¨æˆ·åç§°></p>

<h2 id="2crontab-æ ¼å¼">2ï¼Œcrontab æ ¼å¼</h2>

<p>åŸºæœ¬æ ¼å¼ :</p>
<ul>
  <li><em>ã€€ *ã€€ *ã€€ *ã€€ã€€command
åˆ†ã€€æ—¶ã€€æ—¥ã€€æœˆã€€å‘¨ã€€ å‘½ä»¤
ç¬¬1åˆ—è¡¨ç¤ºåˆ†é’Ÿ1ï½59 æ¯åˆ†é’Ÿç”¨</em>æˆ–è€… */1è¡¨ç¤º
ç¬¬2åˆ—è¡¨ç¤ºå°æ—¶1ï½23ï¼ˆ0è¡¨ç¤º0ç‚¹ï¼‰
ç¬¬3åˆ—è¡¨ç¤ºæ—¥æœŸ1ï½31
ç¬¬4åˆ— è¡¨ç¤ºæœˆä»½1ï½12
ç¬¬5åˆ—æ ‡è¯†å·æ˜ŸæœŸ0ï½6ï¼ˆ0è¡¨ç¤ºæ˜ŸæœŸå¤©ï¼‰
ç¬¬6åˆ—è¦è¿è¡Œçš„å‘½ä»¤
```js</li>
</ul>

<h1 id="use-the-hash-sign-to-prefix-a-comment">Use the hash sign to prefix a comment</h1>
<h1 id="--minute-0--59">+â€”â€”â€”â€”â€”- minute (0 â€“ 59)</h1>
<h1 id="---hour-0--23">| +â€”â€”â€”â€”- hour (0 â€“ 23)</h1>
<h1 id="----day-of-month-1--31">| | +â€”â€”â€”- day of month (1 â€“ 31)</h1>
<h1 id="-----month-1--12">| | | +â€”â€”- month (1 â€“ 12)</h1>
<h1 id="------day-of-week-0--7-sunday0-or-7">| | | | +â€”- day of week (0 â€“ 7) (Sunday=0 or 7)</h1>
<h1 id="----">| | | | |</h1>
<h1 id="-----command-to-be-executed">* * * * * command to be executed</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## 3ï¼Œcrontabæ–‡ä»¶çš„ä¸€äº›ä¾‹å­ï¼š

&gt; 1 ç®€å•æ‰“å°

```js

æ¯å¤©æ—©ä¸Š6ç‚¹ 
0 6 * * * echo "Good morning." &gt;&gt; /tmp/test.txt //æ³¨æ„å•çº¯echoï¼Œä»å±å¹•ä¸Šçœ‹ä¸åˆ°ä»»ä½•è¾“å‡ºï¼Œå› ä¸ºcronæŠŠä»»ä½•è¾“å‡ºéƒ½emailåˆ°rootçš„ä¿¡ç®±äº†ã€‚

æ¯ä¸¤ä¸ªå°æ—¶ 
0 */2 * * * echo "Have a break now." &gt;&gt; /tmp/test.txt  

æ™šä¸Š11ç‚¹åˆ°æ—©ä¸Š8ç‚¹ä¹‹é—´æ¯ä¸¤ä¸ªå°æ—¶å’Œæ—©ä¸Šå…«ç‚¹ 
0 23-7/2ï¼Œ8 * * * echo "Have a good dream" &gt;&gt; /tmp/test.txt

æ¯ä¸ªæœˆçš„4å·å’Œæ¯ä¸ªç¤¼æ‹œçš„ç¤¼æ‹œä¸€åˆ°ç¤¼æ‹œä¸‰çš„æ—©ä¸Š11ç‚¹ 
0 11 4 * 1-3 command line

1æœˆ1æ—¥æ—©ä¸Š4ç‚¹ 
0 4 1 1 * command line SHELL=/bin/bash PATH=/sbin:/bin:/usr/sbin:/usr/bin MAILTO=root //å¦‚æœå‡ºç°é”™è¯¯ï¼Œæˆ–è€…æœ‰æ•°æ®è¾“å‡ºï¼Œæ•°æ®ä½œä¸ºé‚®ä»¶å‘ç»™è¿™ä¸ªå¸å· HOME=/ 

æ¯å°æ—¶æ‰§è¡Œ/etc/cron.hourlyå†…çš„è„šæœ¬
01 * * * * root run-parts /etc/cron.hourly

æ¯å¤©æ‰§è¡Œ/etc/cron.dailyå†…çš„è„šæœ¬
02 4 * * * root run-parts /etc/cron.daily 

æ¯æ˜ŸæœŸæ‰§è¡Œ/etc/cron.weeklyå†…çš„è„šæœ¬
22 4 * * 0 root run-parts /etc/cron.weekly 

æ¯æœˆå»æ‰§è¡Œ/etc/cron.monthlyå†…çš„è„šæœ¬ 
42 4 1 * * root run-parts /etc/cron.monthly 

æ³¨æ„: "run-parts"è¿™ä¸ªå‚æ•°äº†ï¼Œå¦‚æœå»æ‰è¿™ä¸ªå‚æ•°çš„è¯ï¼Œåé¢å°±å¯ä»¥å†™è¦è¿è¡Œçš„æŸä¸ªè„šæœ¬åï¼Œè€Œä¸æ˜¯æ–‡ä»¶å¤¹åã€‚ ã€€ 

æ¯å¤©çš„ä¸‹åˆ4ç‚¹ã€5ç‚¹ã€6ç‚¹çš„5 minã€15 minã€25 minã€35 minã€45 minã€55 minæ—¶æ‰§è¡Œå‘½ä»¤ã€‚ 
5ï¼Œ15ï¼Œ25ï¼Œ35ï¼Œ45ï¼Œ55 16ï¼Œ17ï¼Œ18 * * * command

æ¯å‘¨ä¸€ï¼Œä¸‰ï¼Œäº”çš„ä¸‹åˆ3ï¼š00ç³»ç»Ÿè¿›å…¥ç»´æŠ¤çŠ¶æ€ï¼Œé‡æ–°å¯åŠ¨ç³»ç»Ÿã€‚
00 15 * * 1ï¼Œ3ï¼Œ5 shutdown -r +5

æ¯å°æ—¶çš„10åˆ†ï¼Œ40åˆ†æ‰§è¡Œç”¨æˆ·ç›®å½•ä¸‹çš„innd/bbslinè¿™ä¸ªæŒ‡ä»¤ï¼š 
10ï¼Œ40 * * * * innd/bbslink 

æ¯å°æ—¶çš„1åˆ†æ‰§è¡Œç”¨æˆ·ç›®å½•ä¸‹çš„bin/accountè¿™ä¸ªæŒ‡ä»¤ï¼š 
1 * * * * bin/account

æ¯å¤©æ—©æ™¨ä¸‰ç‚¹äºŒååˆ†æ‰§è¡Œç”¨æˆ·ç›®å½•ä¸‹å¦‚ä¸‹æ‰€ç¤ºçš„ä¸¤ä¸ªæŒ‡ä»¤ï¼ˆæ¯ä¸ªæŒ‡ä»¤ä»¥;åˆ†éš”ï¼‰ï¼š 
20 3 * * * ï¼ˆ/bin/rm -f expire.ls logins.bad;bin/expire$#@62;expire.1stï¼‰ã€€ã€€

æ¯å¹´çš„ä¸€æœˆå’Œå››æœˆï¼Œ4å·åˆ°9å·çš„3ç‚¹12åˆ†å’Œ3ç‚¹55åˆ†æ‰§è¡Œ/bin/rm -f expire.1stè¿™ä¸ªæŒ‡ä»¤ï¼Œå¹¶æŠŠç»“æœæ·»åŠ åœ¨mm.txtè¿™ä¸ªæ–‡ä»¶ä¹‹åï¼ˆmm.txtæ–‡ä»¶ä½äºç”¨æˆ·è‡ªå·±çš„ç›®å½•ä½ç½®ï¼‰ã€‚ 
12,55 3 4-9 1,4 * /bin/rm -f expire.1st$#@62;$#@62;mm.txt 
</code></pre></div></div>

<hr />

<blockquote>
  <p>2 nginxç¤ºä¾‹</p>
</blockquote>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="mi">30</span> <span class="mi">21</span> <span class="o">*</span> <span class="o">*</span> <span class="o">*</span> <span class="sr">/etc/i</span><span class="nx">nit</span><span class="p">.</span><span class="nx">d</span><span class="o">/</span><span class="nx">nginx</span> <span class="nx">restart</span>
<span class="err">æ¯æ™šçš„</span><span class="mi">21</span><span class="p">:</span><span class="mi">30</span><span class="err">é‡å¯</span> <span class="nx">nginx</span><span class="err">ã€‚</span>

<span class="mi">45</span> <span class="mi">4</span> <span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">22</span> <span class="o">*</span> <span class="o">*</span> <span class="sr">/etc/i</span><span class="nx">nit</span><span class="p">.</span><span class="nx">d</span><span class="o">/</span><span class="nx">nginx</span> <span class="nx">restart</span>
<span class="err">æ¯æœˆ</span><span class="mi">1</span><span class="err">ã€</span> <span class="mi">10</span><span class="err">ã€</span><span class="mi">22</span><span class="err">æ—¥çš„</span><span class="mi">4</span> <span class="p">:</span> <span class="mi">45</span><span class="err">é‡å¯</span><span class="nx">nginx</span><span class="err">ã€‚</span>

<span class="mi">10</span> <span class="mi">1</span> <span class="o">*</span> <span class="o">*</span> <span class="mi">6</span><span class="p">,</span><span class="mi">0</span> <span class="o">/</span><span class="nx">etc</span><span class="o">/</span><span class="nx">init</span><span class="p">.</span><span class="nx">d</span><span class="o">/</span><span class="nx">nginx</span> <span class="nx">restart</span>
<span class="err">æ¯å‘¨å…­ã€å‘¨æ—¥çš„</span><span class="mi">1</span> <span class="p">:</span> <span class="mi">10</span><span class="err">é‡å¯</span><span class="nx">nginx</span><span class="err">ã€‚</span>

<span class="mi">0</span><span class="p">,</span><span class="mi">30</span> <span class="mi">18</span><span class="o">-</span><span class="mi">23</span> <span class="o">*</span> <span class="o">*</span> <span class="o">*</span> <span class="sr">/etc/i</span><span class="nx">nit</span><span class="p">.</span><span class="nx">d</span><span class="o">/</span><span class="nx">nginx</span> <span class="nx">restart</span>
<span class="err">æ¯å¤©</span><span class="mi">18</span> <span class="p">:</span> <span class="mi">00</span><span class="err">è‡³</span><span class="mi">23</span> <span class="p">:</span> <span class="mi">00</span><span class="err">ä¹‹é—´æ¯éš”</span><span class="mi">30</span><span class="err">åˆ†é’Ÿé‡å¯</span><span class="nx">nginx</span><span class="err">ã€‚</span>

<span class="mi">0</span> <span class="mi">23</span> <span class="o">*</span> <span class="o">*</span> <span class="mi">6</span> <span class="o">/</span><span class="nx">etc</span><span class="o">/</span><span class="nx">init</span><span class="p">.</span><span class="nx">d</span><span class="o">/</span><span class="nx">nginx</span> <span class="nx">restart</span>
<span class="err">æ¯æ˜ŸæœŸå…­çš„</span><span class="mi">11</span> <span class="p">:</span> <span class="mi">00</span> <span class="nx">pm</span><span class="err">é‡å¯</span><span class="nx">nginx</span><span class="err">ã€‚</span>

<span class="o">*</span> <span class="o">*</span><span class="sr">/1 * * * /</span><span class="nx">etc</span><span class="o">/</span><span class="nx">init</span><span class="p">.</span><span class="nx">d</span><span class="o">/</span><span class="nx">nginx</span> <span class="nx">restart</span>
<span class="err">æ¯ä¸€å°æ—¶é‡å¯</span><span class="nx">nginx</span>

<span class="o">*</span> <span class="mi">23</span><span class="o">-</span><span class="mi">7</span><span class="o">/</span><span class="mi">1</span> <span class="o">*</span> <span class="o">*</span> <span class="o">*</span> <span class="sr">/etc/i</span><span class="nx">nit</span><span class="p">.</span><span class="nx">d</span><span class="o">/</span><span class="nx">nginx</span> <span class="nx">restart</span>
<span class="err">æ™šä¸Š</span><span class="mi">11</span><span class="err">ç‚¹åˆ°æ—©ä¸Š</span><span class="mi">7</span><span class="err">ç‚¹ä¹‹é—´ï¼Œæ¯</span> <span class="err">éš”ä¸€å°æ—¶é‡å¯</span><span class="nx">nginx</span>

<span class="mi">0</span> <span class="mi">11</span> <span class="mi">4</span> <span class="o">*</span> <span class="nx">mon</span><span class="o">-</span><span class="nx">wed</span> <span class="o">/</span><span class="nx">etc</span><span class="o">/</span><span class="nx">init</span><span class="p">.</span><span class="nx">d</span><span class="o">/</span><span class="nx">nginx</span> <span class="nx">restart</span>
<span class="err">æ¯æœˆçš„</span><span class="mi">4</span><span class="err">å·ä¸æ¯å‘¨ä¸€åˆ°å‘¨ä¸‰</span> <span class="err">çš„</span><span class="mi">11</span><span class="err">ç‚¹é‡å¯</span><span class="nx">nginx</span>

<span class="mi">0</span> <span class="mi">4</span> <span class="mi">1</span> <span class="nx">jan</span> <span class="o">*</span> <span class="sr">/etc/i</span><span class="nx">nit</span><span class="p">.</span><span class="nx">d</span><span class="o">/</span><span class="nx">nginx</span> <span class="nx">restart</span>
<span class="err">ä¸€æœˆä¸€å·çš„</span><span class="mi">4</span><span class="err">ç‚¹é‡å¯</span><span class="nx">nginx</span>

<span class="o">*</span><span class="sr">/30 * * * * /u</span><span class="nx">sr</span><span class="o">/</span><span class="nx">sbin</span><span class="o">/</span><span class="nx">ntpdate</span> <span class="mf">210.72</span><span class="p">.</span><span class="mf">145.20</span>
<span class="err">æ¯åŠå°æ—¶åŒæ­¥ä¸€ä¸‹æ—¶é—´</span>
</code></pre></div></div>

<h2 id="4-åˆ›å»ºcronè„šæœ¬">4 åˆ›å»ºcronè„šæœ¬</h2>

<ol>
  <li>
    <p>ç¬¬ä¸€æ­¥ï¼šå†™cronè„šæœ¬æ–‡ä»¶,å‘½åä¸ºcrontest.cronã€‚
15,30,45,59 * * * * echo â€œxgmtestâ€¦..â€Â Â» xgmtest.txt  è¡¨ç¤ºï¼Œæ¯éš”15åˆ†é’Ÿï¼Œæ‰§è¡Œæ‰“å°ä¸€æ¬¡å‘½ä»¤</p>
  </li>
  <li>
    <p>ç¬¬äºŒæ­¥ï¼šæ·»åŠ å®šæ—¶ä»»åŠ¡ã€‚æ‰§è¡Œå‘½ä»¤ â€œcrontab crontest.cronâ€ã€‚æå®š</p>
  </li>
  <li>
    <p>ç¬¬ä¸‰æ­¥ï¼šâ€crontab -lâ€ æŸ¥çœ‹å®šæ—¶ä»»åŠ¡æ˜¯å¦æˆåŠŸæˆ–è€…æ£€æµ‹/var/spool/cronä¸‹æ˜¯å¦ç”Ÿæˆå¯¹åº”cronè„šæœ¬</p>
  </li>
</ol>

<h2 id="å°†è„šæœ¬æ”¹ä¸ºå¯æ‰§è¡Œé’ˆå¯¹shellshæ–‡ä»¶">å°†è„šæœ¬æ”¹ä¸ºå¯æ‰§è¡Œï¼ˆé’ˆå¯¹shellï¼Œ.shæ–‡ä»¶ï¼‰</h2>

<blockquote>
  <p>chmod +x filename</p>
</blockquote>

<p>å¼•ç”¨ï¼š</p>

<p>http://blog.csdn.net/u012402276/article/details/51063269
https://www.cnblogs.com/longjshz/p/5779215.html
http://blog.csdn.net/edgdvcyz/article/details/53348832</p>

:ET